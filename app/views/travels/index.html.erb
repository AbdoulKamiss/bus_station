<div class="container-sm justify-content-around">
<% if flash[:notice] %>
  <div class="alert alert-success"><%= flash[:notice] %></div>
<% end %>
<div style="text-align: center; padding-top: 20px;"><h1>Travels Index Page</h1></div>
<div style="display: flex; justify-content: center;">
<%= search_form_for @q, url: travels_path, class:"form-inline my-2 my-lg-0" do |f| %>
  <%= f.search_field :starting_station_city_or_destination_station_city_cont, class:"form-control mr-sm-2", placeholder:"City" %>
  <%= f.date_field :date_eq, class:"form-control mr-sm-2"%>
  <%= f.submit "Search", class:"btn btn-outline-primary my-2 my-sm-0" %>
<% end %>
</div>
<div class="container" >
    <div class="row d-flex justify-content-around">
      
    <table class="table">
  <thead class="table-primary">
    <tr>
      <th>Starting</th>
      <th>Destination</th>
      <th><%= sort_link(@q, :date, "Date") %></th>
      <th>Time</th>
      <th>Duration</th>
    </tr>
  </thead>
  <tbody>
    <% @travels.each do |travel| %>
      <tr>
        <td><%= travel.starting_station.city %></td>
        <td><%= travel.destination_station.city %></td>
        <td><%= travel.formatted_date %></td>
        <td><%= travel.formatted_time %></td>
        <td><%= travel.formatted_duration %></td>
        <% if current_user.admin? %>
        <td><%= button_to 'Edit', edit_travel_path(travel), method: :get, class:"btn btn-primary" %></td>
        <td><%= button_to 'Delete', travel_path(travel), method: :delete, data: {confirm: "Are you sure?" }, class:"btn btn-danger" %></td>
        <% else %>
        <td><%= button_to 'Book Travel', new_booking_path, method: :get, params: { travel_id: travel.id }, class:"btn btn-primary" %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
    
    </div>
</div>
<div style="display: flex; justify-content: center;"><%= paginate @travels %></div>
</div>